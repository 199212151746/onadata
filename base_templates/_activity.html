<p>Activity:</p>
<table id="activity-list" class="fullw">
	<thead>
		<th>
			Date
		</th>
		<th>
			Title
		</th>
		<th>
			Survey Type
		</th>
		<th>
			Phone
		</th>
	</thead>
</table>

<script id="activityRow" type="text/x-jquery-tmpl">
    <tr>
		<td>
			<a href="#/map/survey/${id}" title="View on map">
				${date}
			</a>
		</td>
		<td>${title}</td>
		<td>${survey_type}</td>
		<td>${phone}</td>
	</tr>
</script>

<script type="text/javascript" charset="utf-8">
	var activityTemplate = $('#activityRow').template();
	
	$('#main').bind('activity-data-load', function(){
		_list = new ActivityList(storage.get('activity').data);
		$.tmpl(activityTemplate, _list).appendTo('#activity-list')
		var surveyColors = {
			'water': 'blue',
			'education': 'green',
			'health': 'red'
		}
		$(_list).each(function(){
			this.setFlagColor(surveyColors[this.survey])
		})
	})

	dashboard.get("#/activity", function(context){
		this.switchTo("activity");
        this.title("Activity");
    });


	var Activities = (function(){
		var activity = false;
		function getActivity(){
			if(!activity) {
				activity = storage.get('activity').data;
			}
		}
		
		return {
			bySite: function(){
				
			}
		}
	})()

</script>