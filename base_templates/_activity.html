<p>Activity:</p>
<table id="activity-list" class="shade-alternate fullw padded">
	<thead>
		<th>Date</th>
		<th>Surveyor</th>
		<th>Title</th>
		<th>Survey Type
		</th>
	</thead>
</table>

<script id="activityRow" type="text/x-jquery-tmpl">
    <tr>
		<td>
			<a href="#/map/${district_id}/show/${id}" title="View on map">
				${date}
			</a>
		</td>
		<td>${surveyor}</td>
		<td>${title}</td>
		<td>${survey_type}</td>
	</tr>
</script>

<script type="text/javascript" charset="utf-8">
	/*- Uses jQuery $.tmpl to project activity-list onto table.
	- 
	-*/
	WithActivityList(function(list){
		var templateList = [],
			templ = $('#activityRow').template();
		//for some reason, the activity-list cannot be run through the $.tmpl()
		$(list).each(function(){templateList.push(this)});
		$.tmpl(templ, templateList).appendTo($("#activity-list"))
		
		delete(templateList)
	});
	
	dashboard.get("#/activity", function(context){
		this.switchTo("activity");
        this.title("Activity");
    });

</script>